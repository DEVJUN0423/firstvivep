const I18N = {
    ko: {
        // Header
        'nav.gameModes': 'Game Modes',
        'nav.leaderboard': 'Leaderboard',
        'nav.statistics': 'Statistics',
        'nav.settings': 'Settings',

        // Hero
        'hero.badge': '무료 온라인 반응 속도 테스트',
        'hero.startBtn': '지금 시작하기',
        'hero.leaderboardBtn': '리더보드 보기',
        'hero.clickStart': 'Click Here to Start!',
        'hero.players': '10,000+ 플레이어',
        'hero.rating': '4.9/5 평점',
        'hero.free': '100% 무료',

        // Features
        'features.title': '다양한 게임 모드로 실력을 향상시키세요',
        'features.subtitle': '클릭 속도, 정확도, 반응 시간 등 다양한 테스트를 통해 당신의 한계에 도전하세요',
        'features.click.name': '클릭 스피드',
        'features.click.desc': '1, 5, 10초 동안 최대한 빠르게 클릭하여 CPS를 측정하세요. 실시간 점수를 확인하며 자신의 한계에 도전할 수 있습니다.',
        'features.accuracy.name': '정확도 테스트',
        'features.accuracy.desc': '움직이는 타겟을 정확하게 클릭하세요. 속도와 정확도의 균형을 맞추며 클릭 컨트롤을 향상시킬 수 있습니다.',
        'features.reaction.name': '반응 시간',
        'features.reaction.desc': '색상 변화에 얼마나 빠르게 반응하는지 측정하세요. 순간적인 판단력과 반응 속도를 훈련할 수 있습니다.',
        'features.memory.name': '시각적 기억력 테스트',
        'features.memory.desc': '표시된 사각형의 위치를 기억하고, 사라진 후 정확하게 클릭하세요.',

        // Stats
        'stats.title': 'Your Performance Stats',
        'stats.subtitle': 'Track your progress and improve your clicking speed',
        'stats.bestCps': '최고 CPS',
        'stats.bestReaction': '최저 반응 시간',
        'stats.bestAccuracy': '최고 정확도 점수',
        'stats.bestMemory': '최고 기억력 점수',

        // Leaderboard
        'leaderboard.title': 'Global Leaderboard',
        'leaderboard.subtitle': 'See how you rank against the best clickers worldwide',
        'leaderboard.click': '클릭 속도 리더보드',
        'leaderboard.reaction': '반응 속도 리더보드',
        'leaderboard.accuracy': '정확도 리더보드',
        'leaderboard.memory': '기억력 리더보드',

        // CTA
        'cta.title': '준비되셨나요? 지금 바로 시작하세요!',
        'cta.subtitle': '무료로 반응 속도를 테스트하고 전 세계 랭킹에 도전하세요',
        'cta.btn': '무료로 시작하기',

        // Footer
        'footer.desc': '반응 속도와 클릭 능력을 테스트하고 향상시키는 무료 온라인 플랫폼',
        'footer.games': '게임',
        'footer.more': '더보기',
        'footer.results': '종합 결과',
        'footer.settings': '설정',
        'footer.clickSpeed': '클릭 스피드',
        'footer.accuracyTest': '정확도 테스트',
        'footer.reactionTime': '반응 시간',
        'footer.memoryTest': '기억력 테스트',

        // Settings
        'settings.themeTitle': '테마 설정',
        'settings.darkMode': '다크 모드',
        'settings.langLabel': '언어 설정',
        'settings.langKorean': '한국어',
        'settings.langEnglish': '영어',

        // Test pages
        'test.reaction.instruction': '초록색으로 바뀌면 즉시 클릭하세요!',
        'test.reaction.start': '클릭하여 시작',
        'test.reaction.attempts': '시도 횟수:',
        'test.click.instruction': '정해진 시간 안에 최대한 많이 클릭하세요!',
        'test.accuracy.instruction': '빨간색 원을 정확하고 빠르게 클릭하세요!',
        'test.memory.instruction': '표시된 사각형을 기억하고, 사라진 후 클릭하세요!',

        // Challenge modal
        'challenge.title': '도전!',
        'challenge.accept': '도전 수락!',
    },
    en: {
        // Header
        'nav.gameModes': 'Game Modes',
        'nav.leaderboard': 'Leaderboard',
        'nav.statistics': 'Statistics',
        'nav.settings': 'Settings',

        // Hero
        'hero.badge': 'Free Online Reaction Speed Test',
        'hero.startBtn': 'Start Now',
        'hero.leaderboardBtn': 'View Leaderboard',
        'hero.clickStart': 'Click Here to Start!',
        'hero.players': '10,000+ Players',
        'hero.rating': '4.9/5 Rating',
        'hero.free': '100% Free',

        // Features
        'features.title': 'Improve Your Skills with Various Game Modes',
        'features.subtitle': 'Challenge your limits with click speed, accuracy, reaction time and more',
        'features.click.name': 'Click Speed',
        'features.click.desc': 'Click as fast as you can for 1, 5, or 10 seconds to measure your CPS. Check your real-time score and push your limits.',
        'features.accuracy.name': 'Accuracy Test',
        'features.accuracy.desc': 'Click moving targets precisely. Balance speed and accuracy to improve your click control.',
        'features.reaction.name': 'Reaction Time',
        'features.reaction.desc': 'Measure how quickly you react to color changes. Train your reflexes and reaction speed.',
        'features.memory.name': 'Visual Memory Test',
        'features.memory.desc': 'Remember the positions of highlighted squares and click them after they disappear.',

        // Stats
        'stats.title': 'Your Performance Stats',
        'stats.subtitle': 'Track your progress and improve your clicking speed',
        'stats.bestCps': 'Best CPS',
        'stats.bestReaction': 'Best Reaction Time',
        'stats.bestAccuracy': 'Best Accuracy Score',
        'stats.bestMemory': 'Best Memory Score',

        // Leaderboard
        'leaderboard.title': 'Global Leaderboard',
        'leaderboard.subtitle': 'See how you rank against the best clickers worldwide',
        'leaderboard.click': 'Click Speed Leaderboard',
        'leaderboard.reaction': 'Reaction Speed Leaderboard',
        'leaderboard.accuracy': 'Accuracy Leaderboard',
        'leaderboard.memory': 'Memory Leaderboard',

        // CTA
        'cta.title': 'Ready? Start Right Now!',
        'cta.subtitle': 'Test your reaction speed for free and compete in global rankings',
        'cta.btn': 'Start for Free',

        // Footer
        'footer.desc': 'A free online platform to test and improve your reaction speed and clicking skills',
        'footer.games': 'Games',
        'footer.more': 'More',
        'footer.results': 'Results',
        'footer.settings': 'Settings',
        'footer.clickSpeed': 'Click Speed',
        'footer.accuracyTest': 'Accuracy Test',
        'footer.reactionTime': 'Reaction Time',
        'footer.memoryTest': 'Memory Test',

        // Settings
        'settings.themeTitle': 'Theme Settings',
        'settings.darkMode': 'Dark Mode',
        'settings.langLabel': 'Language',

        // Test pages
        'test.reaction.instruction': 'Click as soon as the screen turns green!',
        'test.reaction.start': 'Click to Start',
        'test.reaction.attempts': 'Attempts:',
        'test.click.instruction': 'Click as many times as you can within the time limit!',
        'test.accuracy.instruction': 'Click the red circles quickly and accurately!',
        'test.memory.instruction': 'Remember the squares and click them after they disappear!',

        // Challenge modal
        'challenge.title': 'Challenge!',
        'challenge.accept': 'Accept Challenge!',
    }
};

function getLanguage() {
    return localStorage.getItem('websiteLanguage') || 'ko';
}

function setLanguage(lang) {
    localStorage.setItem('websiteLanguage', lang);
    applyLanguage(lang);
}

function t(key) {
    const lang = getLanguage();
    return (I18N[lang] && I18N[lang][key]) || (I18N['ko'] && I18N['ko'][key]) || key;
}

function applyLanguage(lang) {
    if (!lang) lang = getLanguage();
    const dict = I18N[lang] || I18N['ko'];

    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (dict[key]) {
            el.textContent = dict[key];
        }
    });

    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (dict[key]) {
            el.placeholder = dict[key];
        }
    });

    document.documentElement.lang = lang === 'en' ? 'en' : 'ko';
}

document.addEventListener('DOMContentLoaded', () => {
    applyLanguage();
});
